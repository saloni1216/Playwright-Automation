<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Login & Job Application</title>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function () {
    emailjs.init("gdDT6lZUGGIT4X1EV"); // your public key
  })();
</script>

<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .container {
    background: white;
    padding: 30px;
    width: 320px;
    border-radius: 10px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    animation: fadeIn 0.6s ease-in-out;
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #333;
  }

  input {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 14px;
  }

  button {
    width: 100%;
    padding: 12px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 15px;
  }

  button:disabled {
    background: #aaa;
    cursor: not-allowed;
  }

  button:hover:not(:disabled) {
    background: #5a67d8;
  }

  .hidden {
    display: none;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>

<body>

<!-- Login Page -->
<div class="container" id="loginPage">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>
</div>

<!-- Job Application Form -->
<div class="container hidden" id="formPage">
  <h2>Job Application</h2>
  <input type="text" id="name" placeholder="Full Name">
  <input type="email" id="email" placeholder="Email">
  <input type="text" id="mobile" placeholder="Mobile Number">
  <button id="submitBtn" disabled onclick="sendEmail()">
    Submit Application
  </button>
</div>

<script>
function login() {
  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value.trim();

  if (u && p) {
    document.getElementById("loginPage").classList.add("hidden");
    document.getElementById("formPage").classList.remove("hidden");
  } else {
    alert("Please enter username and password");
  }
}

// enable submit button when all inputs are filled
document.querySelectorAll("#formPage input").forEach(input => {
  input.addEventListener("input", checkForm);
});

function checkForm() {
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const mobile = document.getElementById("mobile").value.trim();

  document.getElementById("submitBtn").disabled =
    !(name && email && mobile);
}

function sendEmail() {
  const btn = document.getElementById("submitBtn");
  btn.disabled = true;
  btn.innerText = "Sending...";

  emailjs.send("service_rn0my54", "template_2r7f1eo", {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    mobile: document.getElementById("mobile").value
  })
  .then(() => {
    alert("Application submitted successfully!");
    btn.innerText = "Submitted";
  })
  .catch(() => {
    alert("Failed to send application");
    btn.disabled = false;
    btn.innerText = "Submit Application";
  });
}
</script>

</body>
</html>
